{"componentChunkName":"component---src-templates-blog-js","path":"/blog/introduction-to-docker","result":{"data":{"markdownRemark":{"frontmatter":{"title":"Introduction to Docker","date":"2022-03-27"},"html":"<p>Many times we write programs and we want our programs to work properly without any external factors interfering. or do not want our program to affect other programs in the machine We may take our program to run in the <strong>Virtual Machine (VM)</strong> to solve the above problem.</p>\n<p>But using a VM has its limitations. Our computers need a lot of resources in order to emulate and run an OS in one VM. The CPU and RAM are used as if another computer shared its resources. Just bring it to our program to run only one. And it's even worse when we want to run multiple programs.</p>\n<p>both the use of resources both the speed of opening and closing those programs and the difficulty in managing to fix All these problems can be avoided by using Docker.</p>\n<h2>What is Docker?</h2>\n<ul>\n<li>Docker is a platform for creating and running containers.</li>\n</ul>\n<p>in long version...</p>\n<blockquote>\n<p><em>Docker is an open platform for developing, shipping, and running applications. Docker enables you to separate your applications from your infrastructure so you can deliver software quickly. With Docker, you can manage your infrastructure in the same ways you manage your applications.</em></p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.08510638297872%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAACOUlEQVQoz12Q2U8TARCH9z/zxQcTo+GJiApPxhefPIgSE/BBE4nBKALFUCgGjIkRJdh6JISjpRXkaOnF0Xbb0m6htN3udtvt3c90wZg4yZf5zW8yk8kI5VoDvdagWKmjlioU9KqRtXINvXrWK9ealCp18ppOXiv/x7lX0I1ZgfNoNeoUtQJ6qYhWUKlXK39bVOpN1GIZTcmj5mXkbJZ8LkdByRtakWWUXJa8WkRYOZB5uRjHZE9iskuMrSYZs0u8dUgMLx0xs56i3mwRSRd4shCifyHMoHWfp9Z/+pktzMNP+6wdZBDaQxeGtrg84ja4NLxjcGXUzcVX29yeDVJrtBBPNQZsIo+tMQa/h+j/GuHRQozn30IMWEXuzYVxHOYQzGsSHaZdbk756Lb4uWb20jXpo2faT+eEl965Q9p/VvUa+ycq25ETkmoFbzyDO5YhqVbxRNOGzhRrCBaXZFzWXnJ9ys+t2T1uWAJG3WHy0PclRK3RJCnrTDqOGF+JMu1MMOWIM+mI886ZwGyPMboUxZsoIASOdT57Fea9Od7/SvBhPcGMM86cO8O8T2FN1Gg2WwSPi3SZd+mcOKPb4qVn2kvnhMfwr47t8DOQQXCko7zwOxgOungTcDEe3GDE7+J1wMVQwMnHmI9GA8J5md7fNu6uW7m/YaVv84fBgw2bwR3XPI5UHCGmKmymk+xkUniyx+xmT4zcrrfSEntyBr3a5LSksyyJLEkRg5WUyGpKZFmKGP5iMoyoKPwB7K9h9mYTmdoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Screen Shot 2564-08-22 at 12.41.58.png\"\n        title=\"Screen Shot 2564-08-22 at 12.41.58.png\"\n        src=\"/static/e3e2f7513aafaa079a90d024148a46e0/1d69c/Screen_Shot_2564-08-22_at_12.41.58.png\"\n        srcset=\"/static/e3e2f7513aafaa079a90d024148a46e0/4dcb9/Screen_Shot_2564-08-22_at_12.41.58.png 188w,\n/static/e3e2f7513aafaa079a90d024148a46e0/5ff7e/Screen_Shot_2564-08-22_at_12.41.58.png 375w,\n/static/e3e2f7513aafaa079a90d024148a46e0/1d69c/Screen_Shot_2564-08-22_at_12.41.58.png 750w,\n/static/e3e2f7513aafaa079a90d024148a46e0/78797/Screen_Shot_2564-08-22_at_12.41.58.png 1125w,\n/static/e3e2f7513aafaa079a90d024148a46e0/aa440/Screen_Shot_2564-08-22_at_12.41.58.png 1500w,\n/static/e3e2f7513aafaa079a90d024148a46e0/2ef06/Screen_Shot_2564-08-22_at_12.41.58.png 2448w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>The container is an <strong>instance</strong> of an image that runs a program.</li>\n<li>The container is a <strong>process</strong> or a set of processes that have a grouping of resources specifically assign to it.</li>\n<li>After we installed Docker, then we automatically installed <strong>Linux Virtual Machine</strong>.</li>\n</ul>\n<h2>Docker Architecture</h2>\n<p>Docker uses a client-server architecture. Docker client talks to Docker Daemon (server) via <strong>REST API</strong></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.659574468085104%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACR0lEQVQoz42RS08aARhF+bFdd9NdV02bpkkXbVdNutI0NVa0ioLWUNHACIhFiyLv1zAzjMPIPACZBwinwVTTR9r0JmfxLe7JTb6ApBuY3g2GO2EwvmE4cmgpKmLnEknvYY+n2P4NljfBdCcY7hhnMqVn2VRlFX3kI5pDHm4kiFYVAntFkQPJZL9tEFf6nKsGwZMKn/MNwgWRUFllo9Qh0rgiKppsNQ0y2oC02mdJOGErVycoDXl0UOJdXiNwrujkZJ2cpJGWemQknWBFZ6dts167YjFbI3ghs15SCVW7fChpxFs6SRu+Lr7hdOEV4YZK7iLPtuISSNUVUg2VY7HLsdon2zHZLctkijVOJZ09zWW5biKUmggNlZgyIKPaHHZHRCJfiEWirHRcVttdwtKQQKKhIjS7HMkGCdkiq1rUzWv2s6fsCoekahJr4pB+Lc/l8wd0yhecGS4xbcTSkxeEnr7krdzjdbnKarNPoGT7zClYHs2+R8V0qFsOkeQRq7E4Jx2T1YZFX5XwU5t4vkdSMRGtEbmew7nhULDGFM0JJWNEgN8yl9Ush+3kEVvCEWXbJ6Q4OJrG5fsFSmd5BMXkbwlMZzPm3ExnvwjDh2lCiRQFw2FT9Ri2GlSfPUYT22T0EbPplLvuz9wvnB93wvqtMMWneJKK7bHcGpK48kn7ENPHCOoAmDFvzH707hf+IbRdyqZDslAmmv1G0XRZlj2Cis+K5LAkjxG6Dsym/yds9R0+1gx2lWt25CFrTZtga3D76Tnztf9a+B3sah/RGyiR6wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Screen Shot 2564-08-22 at 12.44.16.png\"\n        title=\"Screen Shot 2564-08-22 at 12.44.16.png\"\n        src=\"/static/55a3f98c88cdfd02e197a56245f826e3/1d69c/Screen_Shot_2564-08-22_at_12.44.16.png\"\n        srcset=\"/static/55a3f98c88cdfd02e197a56245f826e3/4dcb9/Screen_Shot_2564-08-22_at_12.44.16.png 188w,\n/static/55a3f98c88cdfd02e197a56245f826e3/5ff7e/Screen_Shot_2564-08-22_at_12.44.16.png 375w,\n/static/55a3f98c88cdfd02e197a56245f826e3/1d69c/Screen_Shot_2564-08-22_at_12.44.16.png 750w,\n/static/55a3f98c88cdfd02e197a56245f826e3/78797/Screen_Shot_2564-08-22_at_12.44.16.png 1125w,\n/static/55a3f98c88cdfd02e197a56245f826e3/aa440/Screen_Shot_2564-08-22_at_12.44.16.png 1500w,\n/static/55a3f98c88cdfd02e197a56245f826e3/6fa81/Screen_Shot_2564-08-22_at_12.44.16.png 1856w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.76595744680851%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHt3SKK/8QAFxAAAwEAAAAAAAAAAAAAAAAAARARIf/aAAgBAQABBQLaXF//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAZEAEBAAMBAAAAAAAAAAAAAAABABEhMVH/2gAIAQEAAT8hX1kxyxIegxq//9oADAMBAAIAAwAAABD4D//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/ECf/xAAWEQADAAAAAAAAAAAAAAAAAAABECH/2gAIAQIBAT8QNX//xAAbEAADAAIDAAAAAAAAAAAAAAAAAREhQTFRof/aAAgBAQABPxDCJR3GKbmR7XJNuz1gVESRLB//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"how_docker_works.jpg\"\n        title=\"how_docker_works.jpg\"\n        src=\"/static/5a55c8c72b019b7125f02031959ea9e6/acb04/how_docker_works.jpg\"\n        srcset=\"/static/5a55c8c72b019b7125f02031959ea9e6/bc01b/how_docker_works.jpg 188w,\n/static/5a55c8c72b019b7125f02031959ea9e6/bf173/how_docker_works.jpg 375w,\n/static/5a55c8c72b019b7125f02031959ea9e6/acb04/how_docker_works.jpg 750w,\n/static/5a55c8c72b019b7125f02031959ea9e6/ec605/how_docker_works.jpg 1125w,\n/static/5a55c8c72b019b7125f02031959ea9e6/2ce39/how_docker_works.jpg 1446w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"javascript\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk13 mtkb\">const</span><span class=\"mtk1\"> </span><span class=\"mtk7\">container</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk8\">new</span><span class=\"mtk1\"> </span><span class=\"mtk7\">Image</span><span class=\"mtk1\">()</span></span></span></code></pre>\n<h2>Why use Docker</h2>\n<p>Docker helps us run software without worrying about <strong>setup or install dependencies.</strong></p>\n<ul>\n<li>Install and run dependencies in minutes.</li>\n<li>Manage isolated applications.</li>\n<li>Use your favorite development tools, editors, and workflows.</li>\n<li>Distribute your web application to others on your team.</li>\n<li>Deploy your application to live production servers.</li>\n</ul>\n<h2>Docker Installation</h2>\n<p>Depends on your operating system, you can follow the installation instruction from <a href=\"https://docs.docker.com/get-docker/\">Docker Official website</a>. After install successfully, you can verify installation with command:</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"shell\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">docker --version</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Docker version 20.10.12, build e91ed57</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">## if you this message above, which means docker is successfully installed</span></span></code></pre>\n<h2>Docker CLI</h2>\n<p>Here are some frequency use commands to manage images and containers.</p>\n<ul>\n<li><code>docker run &#x3C;IMAGE_NAME></code> run specific image</li>\n<li><code>docker run &#x3C;IMAGE_NAME></code> command but those specific commands must be specified in the image</li>\n<li>docker run behind the scene is <code>docker create &#x3C;IMAGE_NAME></code> + <code>docker start -a &#x3C;CONTAINER_ID></code></li>\n<li><code>docker ps</code> list currently running containers -a for list all containers</li>\n<li><code>docker system prune</code> delete all containers</li>\n<li><code>docker logs</code> retrieve messages from the container</li>\n<li><code>docker stop &#x3C;CONTAINER_ID></code> stop <code>SIGTERM</code> (Terminate signal) stop the process inside the container and shut the container down</li>\n<li><code>docker kill &#x3C;CONTAINER_ID></code> kill <code>SIGKILL</code> immediately shutdown</li>\n<li><code>docker exec -it &#x3C;CONTAINER_ID></code> execute interactive mode in container</li>\n<li><code>docker exec -it &#x3C;CONTAINER_ID> sh</code> execute with command processors (shell)</li>\n<li>If you open 2 terminal windows and run the same command ie. <code>docker run -it busybox sh</code>  then you‚Äôll get an isolated container it means there is nothing relate between container A and B</li>\n</ul>\n<h3>Create Docker Images</h3>\n<ul>\n<li><code>Dockerfile</code> is a configuration file on how the container should behave. A Dockerfile is a text document that contains all the commands a user could call on the command line to assemble an image. Using <code>docker build</code> command, users can create an automated build that executes several command-line instructions in succession.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 102.65957446808511%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAVABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAIBAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB92KhOoXMIoV//8QAGBAAAgMAAAAAAAAAAAAAAAAAAAEQIDH/2gAIAQEAAQUCFDxV/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAFBABAAAAAAAAAAAAAAAAAAAAMP/aAAgBAQAGPwIf/8QAGhABAAIDAQAAAAAAAAAAAAAAAQAREDFRIf/aAAgBAQABPyFoCPrfuNUveidwFQn/2gAMAwEAAgADAAAAEFfA/P/EABcRAQADAAAAAAAAAAAAAAAAABABESH/2gAIAQMBAT8Q0uT/xAAWEQADAAAAAAAAAAAAAAAAAAABEBH/2gAIAQIBAT8QoUC//8QAGxABAAMBAQEBAAAAAAAAAAAAAQARIUFRMXH/2gAIAQEAAT8QsDlkswF8V5DFD2WxBzsANlvIff1EsB5BWe3Bdr1n/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"dockerfile.jpg\"\n        title=\"dockerfile.jpg\"\n        src=\"/static/c4755c9b53e1547812190bec04ca62e6/acb04/dockerfile.jpg\"\n        srcset=\"/static/c4755c9b53e1547812190bec04ca62e6/bc01b/dockerfile.jpg 188w,\n/static/c4755c9b53e1547812190bec04ca62e6/bf173/dockerfile.jpg 375w,\n/static/c4755c9b53e1547812190bec04ca62e6/acb04/dockerfile.jpg 750w,\n/static/c4755c9b53e1547812190bec04ca62e6/ec605/dockerfile.jpg 1125w,\n/static/c4755c9b53e1547812190bec04ca62e6/be0f2/dockerfile.jpg 1328w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>Behind the scene</p>\n<ol>\n<li>\n<p>Provide configuration or commands in <code>Dockerfile</code></p>\n</li>\n<li>\n<p>Docker client provides the file to Docker server.</p>\n</li>\n<li>\n<p>Docker server will look inside the Dockerfile and build a usable image for us.</p>\n</li>\n</ol>\n<h3>Example building Redis image</h3>\n<pre class=\"grvsc-container solarized-light\" data-language=\"dockerfile\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3 mtki\"># Use an existing docker image as a base</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">FROM</span><span class=\"mtk1\"> alpine</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3 mtki\"># Download and install a dependency</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">RUN</span><span class=\"mtk1\"> apk add --update redis</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3 mtki\"># Tell the image what to do when it starts as a container</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">CMD</span><span class=\"mtk1\"> [ </span><span class=\"mtk11\">&quot;redis-server&quot;</span><span class=\"mtk1\"> ]</span></span></span></code></pre>\n<p>in the Terminal</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"shell\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">docker build .</span></span></code></pre>\n<p>here is output we got</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"shell\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">[+] Building 9.4s (7/7) FINISHED</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">=&gt; [internal] load build definition from Dockerfile                                                                              0.1s</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">=&gt; =&gt; transferring dockerfile: 242B                                                                                              0.0s</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">=&gt; [internal] load .dockerignore                                                                                                 0.1s</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">=&gt; =&gt; transferring context: 2B                                                                                                   0.0s</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">=&gt; [internal] load metadata for [docker.io/library/alpine:latest](http://docker.io/library/alpine:latest)                                                                  5.0s</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">=&gt; [auth] library/alpine:pull token for [registry-1.docker.io](http://registry-1.docker.io/)                                                                     0.0s</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">=&gt; [1/2] FROM [docker.io/library/alpine@sha256:eb3e4e175ba6d212ba1d6e04fc0782916c08e1c9d7b45892e9796141b1d379ae](http://docker.io/library/alpine@sha256:eb3e4e175ba6d212ba1d6e04fc0782916c08e1c9d7b45892e9796141b1d379ae)                   1.8s</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">=&gt; =&gt; resolve [docker.io/library/alpine@sha256:eb3e4e175ba6d212ba1d6e04fc0782916c08e1c9d7b45892e9796141b1d379ae](http://docker.io/library/alpine@sha256:eb3e4e175ba6d212ba1d6e04fc0782916c08e1c9d7b45892e9796141b1d379ae)                   0.0s</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">=&gt; =&gt; sha256:eb3e4e175ba6d212ba1d6e04fc0782916c08e1c9d7b45892e9796141b1d379ae 1.64kB / 1.64kB                                    0.0s</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">=&gt; =&gt; sha256:be9bdc0ef8e96dbc428dc189b31e2e3b05523d96d12ed627c37aa2936653258c 528B / 528B                                        0.0s</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">=&gt; =&gt; sha256:021b3423115ff662225e83d7e2606475217de7b55fde83ce3447a54019a77aa2 1.47kB / 1.47kB                                    0.0s</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">=&gt; =&gt; sha256:29291e31a76a7e560b9b7ad3cada56e8c18d50a96cca8a2573e4f4689d7aca77 2.81MB / 2.81MB                                    1.4s</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">=&gt; =&gt; extracting sha256:29291e31a76a7e560b9b7ad3cada56e8c18d50a96cca8a2573e4f4689d7aca77                                         0.3s</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">=&gt; [2/2] RUN apk add --update redis                                                                                              2.2s</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">=&gt; exporting to image                                                                                                            0.1s</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">=&gt; =&gt; exporting layers                                                                                                           0.1s</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">=&gt; =&gt; writing image sha256:7be6457499ed65fa0dc5189563201329a73fcdeda144ca49ba669671b80f296a</span></span></code></pre>\n<p>Actually <code>7be6457499ed</code> is enough to run the container, then run</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"shell\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">docker run 7be6457499ed</span></span></code></pre>\n<p>open another terminal window and run <code>redis-cli</code> then you can access your own Redis image you built.</p>\n<h3><code>Dockerfile</code> in details</h3>\n<ol>\n<li><code>FROM</code> specify Docker image we want to use as base image. In this case is used the <code>alpine</code> Linux as a base image which means, this image already has pre-installed some programs.</li>\n<li><code>RUN</code> execute some commands while we are preparing the image</li>\n<li><code>CMD</code> command instruction to run when the image is used to start up the container</li>\n</ol>\n<p>all above are the most commonly used in <code>Dockerfile</code></p>\n<h3><code>docker build</code> command</h3>\n<p>Take the <code>Dockerfile</code> and build an image with it <code>.</code> is a <strong>build context.</strong> In <strong>t</strong>his case, we've used the current directory to build the image.</p>\n<h3>Building the image with tag</h3>\n<pre class=\"grvsc-container solarized-light\" data-language=\"shell\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">docker build -t DOCKER_USERNAME/YOUR_IMAGE_NAME:version</span></span></code></pre>\n<ul>\n<li>docker username</li>\n<li>image name</li>\n<li>version (lastest)</li>\n</ul>\n<p>then you can run</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"shell\" data-index=\"7\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">docker run DOCKER_USERNAME/YOUR_IMAGE_NAME:version</span></span></code></pre>\n<h3>Create a simple Node.js web application</h3>\n<p>Here is the project folder structure</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 694px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 109.57446808510637%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAABYlAAAWJQFJUiTwAAACdElEQVQ4y62UW2+bQBSE+SWpwtXgmKvZ5WrA2DEGosqWmipVk+f+gL71x091jk3UpooTVXn4BAJ2NLNzFuXn5wN+HRJ8/5HAf1yhSkuUqxJl+X8ow75HmghIKeAFPoIgfMb3A3ie/w48xnVdKI9PT/hyf480SaGqGuJYMFmWwzQtXF19gq4b0DT9IpZl4/pahfLw8A3DMGC5XMKyZhBCMifhGFG05AUkegnDMNmQUhQFgiA4x4yw348Yhx77fY9huEPX9bDtORxnAce5gW3/zfSM3pvmDEqWZajrGlImiKIUcVyibXxs2grDcETXjciyGlGUQIgCUp4QImfi+AS9c90ICkUlfN+HH4To+xG77R5Ns2aXfT+gLEl85ALIBe0XbUuSZLzXlC5Nc4RhBIWEyKXn+zANCyKNcXtokGUFiqJEkqRYrSq0bQvHmT/vJ91PzGY2X6lEdrjb7bj2a1VH6M9xGApkeYmmaVCWq7NwwgsnQU3TGCpiappbpkKmyLplQy5cjL6Hsl7j9rZDXa/huh5UVcds5rwKFWcYFhTKnef5eUzIWY5+THA3HnE8fkXbdgjDUyGXkHIFz1tCIbHNZoPAD2BaNm7MGVLHOUduUVUNu5Qy5UIoNpXyEnJJs6iEYYgoingPdVWD4SwwDwSqsuQyttstN/pnIa/Bg00NV1XFp0JXVeiLEIZYQSyXPAbUMp0g+pgcXIJK4sjr9ZqL0egI6ToM9dQeQc1NR2u6vmR6zoKxEByZ2n5twSWxfwTrpuE5ZIea/masNwXpp0g/CC7lgot3C0opQbwV+d2CNBpd13HkDxFM0hQijk9H76Mixx8o+BsawKgLSSAkSQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Screen_Shot_2564-08-09_at_09.40.37.png\"\n        title=\"Screen_Shot_2564-08-09_at_09.40.37.png\"\n        src=\"/static/c74c6f2bba78835a6dad243b88b140e0/31198/Screen_Shot_2564-08-09_at_09.40.37.png\"\n        srcset=\"/static/c74c6f2bba78835a6dad243b88b140e0/4dcb9/Screen_Shot_2564-08-09_at_09.40.37.png 188w,\n/static/c74c6f2bba78835a6dad243b88b140e0/5ff7e/Screen_Shot_2564-08-09_at_09.40.37.png 375w,\n/static/c74c6f2bba78835a6dad243b88b140e0/31198/Screen_Shot_2564-08-09_at_09.40.37.png 694w\"\n        sizes=\"(max-width: 694px) 100vw, 694px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>Here is <code>package.json</code></p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"json\" data-index=\"8\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk8\">&quot;name&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk11\">&quot;nodejs-simple-web&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk8\">&quot;version&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk11\">&quot;1.0.0&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk8\">&quot;description&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk11\">&quot;&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk8\">&quot;main&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk11\">&quot;index.js&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk8\">&quot;scripts&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk8\">&quot;start&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk11\">&quot;node index.js&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk8\">&quot;keywords&quot;</span><span class=\"mtk1\">: [],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk8\">&quot;author&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk11\">&quot;&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk8\">&quot;license&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk11\">&quot;ISC&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk8\">&quot;dependencies&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk8\">&quot;express&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk11\">&quot;^4.17.1&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>Let's create simple Node.js server and serve some content</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"javascript\" data-index=\"9\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk13 mtkb\">const</span><span class=\"mtk1\"> </span><span class=\"mtk7\">express</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk7\">require</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;express&#39;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk13 mtkb\">const</span><span class=\"mtk1\"> </span><span class=\"mtk7\">app</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk7\">express</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">app</span><span class=\"mtk1\">.</span><span class=\"mtk7\">get</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;/&#39;</span><span class=\"mtk1\">, (req, res) </span><span class=\"mtk13 mtkb\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">res</span><span class=\"mtk1\">.</span><span class=\"mtk7\">send</span><span class=\"mtk1\">(</span><span class=\"mtk11\">`</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">    &lt;h1&gt;Hi, I&#39;m running in Docker&lt;/h1&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">  `</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">});</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">app</span><span class=\"mtk1\">.</span><span class=\"mtk7\">listen</span><span class=\"mtk1\">(</span><span class=\"mtk6\">8080</span><span class=\"mtk1\">, () </span><span class=\"mtk13 mtkb\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk8\">console</span><span class=\"mtk1\">.</span><span class=\"mtk7\">log</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;server start on port 8080 üöÄ&#39;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">});</span></span></span></code></pre>\n<p>Let's create the <code>Dockerfile</code></p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"dockerfile\" data-index=\"10\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">FROM</span><span class=\"mtk1\"> node:alpine</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">WORKDIR</span><span class=\"mtk1\"> /usr/app</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">COPY</span><span class=\"mtk1\"> ./ ./</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">RUN</span><span class=\"mtk1\"> npm install</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">CMD</span><span class=\"mtk1\"> [</span><span class=\"mtk11\">&quot;npm&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk11\">&quot;start&quot;</span><span class=\"mtk1\">]</span></span></span></code></pre>\n<p>Here are steps by steps explanations</p>\n<ol>\n<li>use base <code>node:alpine</code> base image.</li>\n<li>Define <code>/user/app</code> as a working directory inside the container.</li>\n<li>Copy everything inside our current directory to the working directory (as above <code>/usr/app</code> is a relative directory to <code>./</code></li>\n<li>Run command when the container has started.</li>\n<li>Run <code>npm start</code> command to start the application.</li>\n<li>In our terminal, run</li>\n</ol>\n<pre class=\"grvsc-container solarized-light\" data-language=\"shell\" data-index=\"11\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">docker build . -t xeusteerapat/nodejs-simple-web</span></span></code></pre>\n<p>then run the container</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"shell\" data-index=\"12\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">docker run -p 8080:8080 xeusteerapat/nodejs-simple-web</span></span></code></pre>\n<p>Let's visit <a href=\"http://localhost:8080/\"><code>http://localhost:8080</code></a> in the web browser then you should see something like the picture below</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.48936170212765%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAABE0lEQVQ4y+2PT0vDQBDF9/t/EiGnQBKw6a1eerJXC9KIVDF1N5vd7P8kT3ahEqSK9OTBBz9m3gy82SXaWPgQYIyB0QonynBonvBwaNA8H3F8eYUYdEIqDTmoVIUcPvszvRxARmegBIfQFo8soG1PeKMMdr8HbRq0rIO3PaSgeKcdOs7Bug7OefRcglKWZpH4MNL3DJzHoQBTE4w2cD5gZAyT1jDWQSkBKXsopdJPrLUYxzHVJdM0gaxWNYqyxG53j3V9i+12izzPcZNlKKsK67rGZnOHLMtQVRWKokjBlzTPM0hsQvDJeO8RQoBzLlXOObTWaRd93EeiPwd8heBKfRdKLl35DcvQpchPy2v0H/gHAz8AIyj3NReTGLoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Screen_Shot_2564-08-09_at_13.01.31.png\"\n        title=\"Screen_Shot_2564-08-09_at_13.01.31.png\"\n        src=\"/static/3930e2298dcc2771cc6889b565099098/1d69c/Screen_Shot_2564-08-09_at_13.01.31.png\"\n        srcset=\"/static/3930e2298dcc2771cc6889b565099098/4dcb9/Screen_Shot_2564-08-09_at_13.01.31.png 188w,\n/static/3930e2298dcc2771cc6889b565099098/5ff7e/Screen_Shot_2564-08-09_at_13.01.31.png 375w,\n/static/3930e2298dcc2771cc6889b565099098/1d69c/Screen_Shot_2564-08-09_at_13.01.31.png 750w,\n/static/3930e2298dcc2771cc6889b565099098/ea64c/Screen_Shot_2564-08-09_at_13.01.31.png 1116w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h2>Managing multiple local containers using Docker compose</h2>\n<p>Imagine we create a Node.js application to receive the request and counting the number of visitors by saving data to the Redis. Normally, we'll never use Docker CLI to manage multiple containers in this case. Instead, we'll use <strong>Docker Compose</strong></p>\n<p><strong>Docker Compose</strong> is a tool for defining and running multi-container Docker applications. By creating a <code>docker-compose.yml</code> file to configure your application‚Äôs services.</p>\n<p>Here is Node.js application</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"javascript\" data-index=\"13\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk13 mtkb\">const</span><span class=\"mtk1\"> </span><span class=\"mtk7\">express</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk7\">require</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;express&#39;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk13 mtkb\">const</span><span class=\"mtk1\"> </span><span class=\"mtk7\">redis</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk7\">require</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;redis&#39;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk13 mtkb\">const</span><span class=\"mtk1\"> </span><span class=\"mtk7\">app</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk7\">express</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk13 mtkb\">const</span><span class=\"mtk1\"> </span><span class=\"mtk7\">redisClient</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk7\">redis</span><span class=\"mtk1\">.</span><span class=\"mtk7\">createClient</span><span class=\"mtk1\">({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  host: </span><span class=\"mtk11\">&#39;redis-server&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  port: </span><span class=\"mtk6\">6379</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">});</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">redisClient</span><span class=\"mtk1\">.</span><span class=\"mtk7\">set</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;visits&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk6\">0</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">app</span><span class=\"mtk1\">.</span><span class=\"mtk7\">get</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;/&#39;</span><span class=\"mtk1\">, (req, res) </span><span class=\"mtk13 mtkb\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">redisClient</span><span class=\"mtk1\">.</span><span class=\"mtk7\">get</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;visits&#39;</span><span class=\"mtk1\">, (err, visits) </span><span class=\"mtk13 mtkb\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk8\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk7\">err</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk8\">throw</span><span class=\"mtk1\"> </span><span class=\"mtk8\">new</span><span class=\"mtk1\"> </span><span class=\"mtk7\">Error</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;Something wrong&#39;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">res</span><span class=\"mtk1\">.</span><span class=\"mtk7\">send</span><span class=\"mtk1\">(</span><span class=\"mtk11\">`</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">      &lt;h1&gt;Number of visitors is: ${</span><span class=\"mtk7\">visits</span><span class=\"mtk11\">}&lt;/h1&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">    `</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">redisClient</span><span class=\"mtk1\">.</span><span class=\"mtk7\">set</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;visits&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">Number</span><span class=\"mtk1\">(</span><span class=\"mtk7\">visits</span><span class=\"mtk1\">) </span><span class=\"mtk8\">+</span><span class=\"mtk1\"> </span><span class=\"mtk6\">1</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  });</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">});</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">app</span><span class=\"mtk1\">.</span><span class=\"mtk7\">listen</span><span class=\"mtk1\">(</span><span class=\"mtk6\">8081</span><span class=\"mtk1\">, () </span><span class=\"mtk13 mtkb\">=&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk8\">console</span><span class=\"mtk1\">.</span><span class=\"mtk7\">log</span><span class=\"mtk1\">(</span><span class=\"mtk11\">&#39;server running on port 8081&#39;</span><span class=\"mtk1\">));</span></span></span></code></pre>\n<p>Then create <code>Dockerfile</code> to build Node.js app image</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"dockerfile\" data-index=\"14\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">FROM</span><span class=\"mtk1\"> node:alpine</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">WORKDIR</span><span class=\"mtk1\"> </span><span class=\"mtk11\">&#39;/app&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">COPY</span><span class=\"mtk1\"> package.json .</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">RUN</span><span class=\"mtk1\"> npm install</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">COPY</span><span class=\"mtk1\"> . .</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">CMD</span><span class=\"mtk1\"> [</span><span class=\"mtk11\">&quot;npm&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk11\">&quot;start&quot;</span><span class=\"mtk1\">]</span></span></span></code></pre>\n<p>then create <code>docker-compose.yml</code> in the root directory.</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"yaml\" data-index=\"15\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">version</span><span class=\"mtk1\">: </span><span class=\"mtk11\">&#39;3&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">services</span><span class=\"mtk1\">: </span><span class=\"mtk3 mtki\"># type of containers</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">redis-server</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">image</span><span class=\"mtk1\">: </span><span class=\"mtk11\">&#39;redis&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk3 mtki\"># using redis image</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">node-app</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">\t\t</span><span class=\"mtk7\">restart</span><span class=\"mtk1\">: </span><span class=\"mtk11\">always</span><span class=\"mtk1\"> </span><span class=\"mtk3 mtki\"># restart policy</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">build</span><span class=\"mtk1\">: </span><span class=\"mtk6\">.</span><span class=\"mtk1\"> </span><span class=\"mtk3 mtki\"># look in current dir and build</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">ports</span><span class=\"mtk1\">: </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      - </span><span class=\"mtk11\">&quot;4001&quot;:&quot;8081&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3 mtki\"># our port in local machine map to container port</span></span></span></code></pre>\n<p>after that, in terminal run</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"shell\" data-index=\"16\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">docker-compose up</span></span></code></pre>\n<p>and there we go, our containers are running.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34.57446808510639%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABRElEQVQoz1VRyU7DMBTsGdok3mMnbvY0NFSiCyqLQAgJBDc+gv//hUF+IpF6GL2xLY9m5i0OD09wZYOiH5DXLYzzcEUF3/TwTUdcqBRZWSOrO1hfIqsapOsaXFlEEUMcc0KSCCxOL5/I+j2q2zP85g5CWTAuoV0BqS2kTklQKENQxkGlDjp1ENKACz3PILo4vX7BdQdUu0f4zQFcpoiiBELn0DZHOWxRb0dKEFANW0ri2x7WF0h9QY4DJ8Hj8wdct0c5npG1O3BhEMcM0ngkTMK4HNJYaJtBpxm41IgjhuurFVbLBKtlTAjRKfL92zcJksPhSA6DYHBo1yV1GISCA1+3dA49r9ueZrEZqN9Z8P33BxGTENKCCUOXU8HBTeiNC0U9TV1yrogzri76I8GbcST7CW2KzQ/T5uJpi9E/n8+Xc/rzB7f0tb+r2kBRAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Screen_Shot_2564-08-09_at_22.59.15.png\"\n        title=\"Screen_Shot_2564-08-09_at_22.59.15.png\"\n        src=\"/static/c65d2e7ca428a6cc5eea2e434672958e/1d69c/Screen_Shot_2564-08-09_at_22.59.15.png\"\n        srcset=\"/static/c65d2e7ca428a6cc5eea2e434672958e/4dcb9/Screen_Shot_2564-08-09_at_22.59.15.png 188w,\n/static/c65d2e7ca428a6cc5eea2e434672958e/5ff7e/Screen_Shot_2564-08-09_at_22.59.15.png 375w,\n/static/c65d2e7ca428a6cc5eea2e434672958e/1d69c/Screen_Shot_2564-08-09_at_22.59.15.png 750w,\n/static/c65d2e7ca428a6cc5eea2e434672958e/78797/Screen_Shot_2564-08-09_at_22.59.15.png 1125w,\n/static/c65d2e7ca428a6cc5eea2e434672958e/9937c/Screen_Shot_2564-08-09_at_22.59.15.png 1156w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>Let's visit <a href=\"http://localhost:4001/\"><code>http://localhost:4001/</code></a> you'll see</p>\n<p><img src=\"/path/to/dir/3a736a590b5c39a49eb0a01a20ec8e28/2564-08-09_23.00.57.gif\" alt=\"2564-08-09_23.00.57.gif\"></p>\n<p>If we want to stop all containers, we'll run a command</p>\n<pre class=\"grvsc-container solarized-light\" data-language=\"shell\" data-index=\"17\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">docker-compose down</span></span></code></pre>\n<h2>Summary</h2>\n<ul>\n<li>Docker can be used in many operating systems</li>\n<li>Docker consume less resources than Virtual Machine</li>\n<li>Reduce the problem of working in different environments (or different OS)</li>\n<li>We can choose to use different docker images created by people from the central Docker registry like <a href=\"https://hub.docker.com/\">Docker Hub</a> which can reduce development time consuming.</li>\n</ul>\n<p>I hope it will be useful for anyone who is studying <code>Docker</code>. Personally, I use <code>Docker</code> for almost application in everyday life either my full-time job or side project. Next time I'll write a blog post about application deployment using <code>Docker</code> and integration with cloud provider. Happy Coding :)</p>\n<h2>Credits and References</h2>\n<ul>\n<li><a href=\"https://www.udemy.com/course/docker-and-kubernetes-the-complete-guide/\">Docker and Kubernetes - The Complete Guide</a></li>\n<li><a href=\"https://docs.docker.com/engine/faq/\">Docker Engine FAQ</a></li>\n<li><a href=\"https://stackoverflow.com/questions/16047306/how-is-docker-different-from-a-virtual-machine\">How is Docker different from a virtual machine?</a></li>\n<li><a href=\"https://www.bmc.com/blogs/docker-101-introduction/\">Introduction To Docker: A Beginner‚Äôs Guide</a></li>\n<li><a href=\"https://medium.com/i-gear-geek/docker-%E0%B8%84%E0%B8%B7%E0%B8%AD-%E0%B9%80%E0%B8%A3%E0%B8%B4%E0%B9%88%E0%B8%A1%E0%B8%95%E0%B9%89%E0%B8%99%E0%B8%81%E0%B8%B1%E0%B8%9A-docker-56d0ba499ae8\">Docker ‡∏Ñ‡∏∑‡∏≠ ‚Ä¶ (‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏Å‡∏±‡∏ö Docker)</a></li>\n<li><a href=\"https://docker-curriculum.com/#introduction\">https://docker-curriculum.com</a></li>\n<li><a href=\"https://devopswithdocker.com/part-1/1-getting-started\">DevOps with Docker</a></li>\n<li><a href=\"https://code.coursesity.com/docker-interview-questions\">50 Must-Prepare Docker Interview Questions and Answers in 2021</a></li>\n<li><a href=\"https://www.borntodev.com/2020/02/26/docker-%E0%B9%81%E0%B8%9A%E0%B8%9A%E0%B8%AA%E0%B8%B1%E0%B9%89%E0%B8%99%E0%B9%86-%E0%B9%83%E0%B8%995%E0%B8%99%E0%B8%B2%E0%B8%97%E0%B8%B5/\">Docker in 5 minutes</a></li>\n</ul>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .solarized-light { background-color: #FDF6E3; }\n  .solarized-light .mtki { font-style: italic; }\n  .solarized-light .mtkb { font-weight: bold; }\n  .solarized-light .mtk13 { color: #073642; }\n  .solarized-light .mtk1 { color: #657B83; }\n  .solarized-light .mtk7 { color: #268BD2; }\n  .solarized-light .mtk8 { color: #859900; }\n  .solarized-light .mtk3 { color: #93A1A1; }\n  .solarized-light .mtk11 { color: #2AA198; }\n  .solarized-light .mtk6 { color: #D33682; }\n  .solarized-light .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(0, 0, 0, 0.05));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(0, 0, 0, 0.2));\n  }\n</style>"}},"pageContext":{"slug":"introduction-to-docker"}},"staticQueryHashes":["3159585216","3364050859","4152315797","440568431"]}